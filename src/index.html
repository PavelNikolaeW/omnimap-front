<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <head>
        <script>
            document.addEventListener('DOMContentLoaded', function () {
                const isMobile = /Mobi|Android|iPhone|iPad/i.test(navigator.userAgent);
                const meta = document.createElement('meta');
                meta.name = 'viewport';
                if (isMobile) {
                    // –î–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö: —É–º–µ–Ω—å—à–∞–µ–º –º–∞—Å—à—Ç–∞–±, –Ω–∞–ø—Ä–∏–º–µ—Ä initial-scale=0.7
                    meta.content = 'width=device-width, initial-scale=0.75, maximum-scale=1.0';
                } else {
                    // –î–ª—è –¥–µ—Å–∫—Ç–æ–ø–æ–≤: —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –≤—ë—Ä—Å—Ç–∫–∞ –±–µ–∑ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è
                    meta.content = 'width=device-width, initial-scale=1.0';
                }
                document.head.appendChild(meta);
            });
        </script>
    </head>
    <title>omniMap</title>
</head>
<body>

<main class="layout">
    <div class="top-navigation" id="topSidebar">
        <div class="active-button-info" id="active-button-info">openBlock</div>
        <div class="tree-navigation" id="tree-navigation"></div>
        <div class="top-btn-container" id="top-btn-container"></div>
    </div>
    <div class="content-wrapper">
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-content" id="control-panel"></div>
        </aside>
        <div class="container-blocks" id="rootContainer">
            <!-- –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –±–ª–æ–∫–∞ -->
        </div>
    </div>
    <nav class="breadcrumb-nav" id="breadcrumb">
    </nav>
</main>

<template id="access-window-template">
    <div class="access-window">
        <h3 id="access-window-title">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞</h3>
        <button class="close-button">√ó</button>
        <div class="loading">–ó–∞–≥—Ä—É–∑–∫–∞...</div>

        <div class="content" style="display: none;">
            <label>
                <input type="checkbox" id="public-checkbox">
                –°–¥–µ–ª–∞—Ç—å –ø—É–±–ª–∏—á–Ω—ã–º
            </label>

            <label for="username-input">–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –¥–æ—Å—Ç—É–ø–∞:</label>
            <input type="text" id="username-input"/>

            <label for="access-level">–£—Ä–æ–≤–µ–Ω—å –¥–æ—Å—Ç—É–ø–∞:</label>
            <select id="access-level">
                <option value="deny">–ó–∞–ø—Ä–µ—Ç–∏—Ç—å</option>
                <option value="view">–¢–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ</option>
                <option value="edit">–ß—Ç–µ–Ω–∏–µ –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</option>
                <option value="edit_ac">–ß—Ç–µ–Ω–∏–µ –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∞–≤</option>
                <option value="delete">–£–¥–∞–ª–µ–Ω–∏–µ</option>
            </select>

            <button id="confirm-button">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å</button>

            <div class="user-list">
                <h4>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å –¥–æ—Å—Ç—É–ø–æ–º:</h4>
                <div id="user-list"></div>
            </div>
        </div>
    </div>
</template>


<div id="editor-container">
</div>


<div class="container-iframe" id="container-iframe"></div>
<div id="error-popup" class="hidden">
    <span id="error-message"></span>
</div>

<div class="diagram-inputs hidden" id="diagram-inputs">
    <label class="hidden">Rows
        <input id="diagramRow" type="number" max="300" min="2">
    </label>
    <label class="hidden">Cols
        <input id="diagramCol" type="number" max="500" min="2">
    </label>

    <label>Connections
        <input type="checkbox" id="CerateConnections" name="create" value="create">
    </label>

    <label for="sizeSelector">Size</label>
    <select id="sizeSelector">
        <option value="-">-</option>
        <option value="default">default</option>
        <option value="xs">xs</option>
        <option value="s">s</option>
        <option value="m">m</option>
        <option value="l">l</option>
    </select>

    <button class="diagram-btn fas fa-plus-square fas-lg" id="addDiagram"></button>
    <button class="diagram-btn fas fa-rotate fas-lg" id="reset"></button>
</div>

<!--
Vanilla Chat Widget (SSE) ‚Äî CLASS-BASED VERSION
- No framework required
- Styles were moved to your separate CSS file (keep the same class names)
- This file provides HTML markup + a ChatUI class with open()/close() and other public methods
- The ChatUI accepts an Api instance via constructor
- External control: window.openChat() / window.closeChat() / window.getChat() for integration with site buttons
-->

<!-- Markup (keep IDs & classes for script to bind) -->
<div class="llm-wrap" id="llmWrap" role="dialog" aria-modal="true" aria-label="–ß–∞—Ç —Å –ò–ò">
  <div class="llm-grid">
    <aside class="llm-left" id="llmLeft" aria-label="–ò—Å—Ç–æ—Ä–∏—è —á–∞—Ç–æ–≤">
      <div class="llm-left-h">
        <b>–ò—Å—Ç–æ—Ä–∏—è</b>
        <div>
          <button class="llm-btn" id="llmNew">–ù–æ–≤—ã–π</button>
          <button class="llm-close" id="llmCloseSide" title="–°–∫—Ä—ã—Ç—å —Å–ø–∏—Å–æ–∫">‚ü®</button>
        </div>
      </div>
      <div class="llm-left-list" id="llmList"></div>
    </aside>
<!-- LLM chat -->
    <section class="llm-right">
      <header class="llm-hdr">
        <button class="llm-btn" id="llmMenu" aria-label="–ú–µ–Ω—é">‚ò∞</button>
        <b id="llmTitle">–ù–æ–≤—ã–π –¥–∏–∞–ª–æ–≥</b>
        <span class="llm-spacer"></span>
        <button class="llm-btn" id="llmInsertCtx" title="–í—Å—Ç–∞–≤–∏—Ç—å –≤—ã–¥–µ–ª–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç (—Ç–µ–∫—Å—Ç —Å–æ —Å—Ç—Ä–∞–Ω–∏—Ü—ã)">–í—Å—Ç–∞–≤–∏—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç</button>
        <button class="llm-close" id="llmClose" aria-label="–ó–∞–∫—Ä—ã—Ç—å –æ–∫–Ω–æ">‚úï</button>
      </header>
      <main class="llm-body" id="llmBody" aria-live="polite"></main>
      <footer class="llm-ftr">
        <div class="llm-input" id="llmInput" contenteditable="true" role="textbox" aria-multiline="true" data-placeholder="–ù–∞–ø–∏—à–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ‚Ä¶"></div>
        <div class="llm-ctrls">
          <button class="llm-icon" id="llmPaste" title="–í—Å—Ç–∞–≤–∏—Ç—å (Cmd/Ctrl+V)">üìã</button>
          <button class="llm-btn primary" id="llmSend">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
        </div>
      </footer>
    </section>
  </div>
</div>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/marked/12.0.2/marked.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>



</body>
</html>